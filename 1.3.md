# News

La mise à jour 1.3 apporte un grand nombre de nouveautés, commençons graphiquement :

- Nouvelle interface graphique.
    - On laisse tomber la vieille interface Telegram et le dashboard telegram, pour avoir accès à un réel dashboard web intéractif et complet. Le bot telegram restent utile pour souscrire à l’abonnement et gérer la facturation du compte. Usant de l’unicité de telegram pour gérer efficacement le flux d’utilisateur. Une fois souscris, vous avez un nom d’utilisateur et un mdp, lors de la première connexion ça vous demanderas de changer ce mdp. Et voilà, votre compte est actif.
    - Sur l’interface vous pouvez gérer vos abonnements multiples et avec un seul compte souscrire efficacement à plusieurs abonnement et gérer toutes les fonctionnalités de votre clients de cheat. Il s’agit de la pièce central de votre gestion de cheat. Précédemment lors de la V1.2.3, une interface graphique en version bêta était disponible pour certaines personne. Ici, tout est repensé afin dêtre plus agérable d’utilisation et efficace.
        - La page dashboard permet d’avoir toutes les statistiques et informations de la VMs, des statistiques de jeu, etc
        - L’onglet Features te permet d’activer les paramètres de cheat, des VMs, etc etc. C’est le centre d’activation et désactivation de cheat
        - L’onglet statistics permet de suivre les statistiques avancée des matchs, progressions, etc etc.
        - L’onglet console permet la gestion complète des VMs et l’injection mémoire
        - la page settings permet les paramètres plus constant de la VMs, tel que la résolution, l’ajout de VPN, les FPS, les backups, snapshots, etc
    - Nouvelle espace de connexion pour une gestion de ses abonnements et gestions de ses jeux, un lobby.
    - Nouvelle page sur le site vitrine nommé update qui récence toutes les nouveautés des mises à jour
    - Ajout d’un terminal pour la gestion de la VMs via cmd
- Nouveau jeu
    - Ajout de Valorant en jeu disponible sur VMs, avec ses propres fonctionnalités et configurations
- Baisse des prix (€)
    - Clash Royale
        - Offre Suprême = 180→130
        - Offre Dominator = 230→180
        - Offre Godmode = 290→230
    - Overwatch 2
        - Offre Phantom = 410→380
        - Offre Phantom = 600→500
        - Offre Godmode = 1000→850
    - Warzone
        - Reaper = 600→500
        - Reaper 2 = 1650→900
- Amélioration technique
    - Création d’images de VMs Windows avec jeu + cheat
    - Nouvelle gestion database et auth utilisateurs via Firebase
    - Application de techniques de dissimulation VM : CPUID spoof, MAC/Bios spoof, vendor ID patch
    - Envoi automatique de logs depuis les VMs, Analyse d’incidents (ban, crash, détection cheat). Déclenchement d’alertes et remplacement des VMs compromises
        - Permet l’automatisation et la génération de nouvelle VMs en fonction des besoins sans intervention humaine. Couplé à la nouvelle rapidité de génération de VM, il est beaucoup plus facile et rapide en cas de ban. et de détection de générer une nouvelle VM
- Augmentation de l’équipe
    - SIH, développeur en interne travail sur la conception de plan de génération de VMs afin de produire de manière rapide la génération de VM. C’est grâce à lui qu’on à réussi à augmenter considérablement notre rapidité lors de la génération de nouvelle VM passant de 45, à 15 minutes

# Création d’images de VMs Windows avec jeu + cheat préinstallés

La création d’images de VMs Windows préconfigurées avec le jeu et le cheat est aujourd’hui orchestrée via un pipeline automatisé reposant sur des templates syspreppés et des outils d’orchestration (Packer, Ansible). Nous disposons d’un catalogue de WIM customisés dans lesquels :

1. Le système est d’abord installé en mode « audit » pour injecter silencieusement le driver kernel du cheat, les DLL d’overlay et les dépendances .NET/C++ nécessaires.
2. Un script PowerShell configure les paramètres de streaming (Parsec/ RDP), désactive Windows Defender, et applique les optimisations de performance (désactivation des services non essentiels, réglage du scheduler CPU).
3. La machine est snapshotée à chaud pour figer l’état idéal ; ces snapshots servent ensuite de base à des clones instantanés, réduisant le temps de provisioning à quelques secondes.

**Avancées actuelles :**

- Le temps de build d’une image est passé de 45 minutes à moins de 15 minutes grâce à la parallélisation des étapes Packer et à la mise en cache des paquets Windows Update.
- Les images intègrent désormais un mécanisme de « smart‑patching » : à chaque mise à jour du cheat, seul le binaire modifié est repackagé, sans régénérer tout le WIM.
- Un composant d’intégrité vérifie à l’amorçage que le driver chargé correspond bien à la version validée, empêchant toute corruption ou remplacement non autorisé.

**Enjeux R&D :**

- **Minimisation du footprint** : réduire la taille des images pour accélérer leur distribution et diminuer le stockage utilisé sur les hôtes.
- **Idempotence et reproductibilité** : garantir que deux builds exécutés à un jour d’écart produisent des images bit‑à‑bit identiques, pour faciliter le tracking des détections éventuelles.
- **Sécurisation de la chaîne de build** : chiffrer et signer chaque artefact (WIM, scripts, exécutables) pour éviter les compromissions lors du transit ou du stockage.

**Axes de recherche possibles :**

- **Fuzz testing** des scripts de configuration pour détecter des combinaisons de services Windows ou de drivers qui pourraient dévoiler l’environnement virtualisé.
- **Compression différentielle** appliquée aux images : générer des patchs binaires plutôt que des images complètes, pour mettre à jour un parc de VMs en production en quelques mégaoctets.
- **Intégration d’un hyperviseur furtif en build‑time** (blue‑pill patch) : expérimenter l’injection automatique d’un VMM custom dans l’image, pour tester en continu sa résistance aux détections.

**Problèmes rencontrés :**

- **Activation Windows** : les builds massifs déclenchent parfois des réactivations intempestives, nécessitant une gestion fine des clés KMS ou MAK.
- **Variabilité des drivers GPU** : certaines versions de pilotes NVIDIA/AMD introduisent des conflits avec le cheat kernel, provoquant des BSOD sur la VM de test.
- **Antivirus hôtes** : même désactivé, Windows Defender laisse périodiquement des artefacts (logs, tampons) qui trahissent l’environnement virtuel lors d’une analyse post‑mortem.

## ✅ **1. Performances Générales**

| Indicateur | Résultat actuel | Objectif cible | Remarques techniques |
| --- | --- | --- | --- |
| ⏱ Temps de build complet | **14 min 30 s** | < 12 min | Build optimisé par Packer + cache updates |
| ⚙️ Temps de patch (smart update) | **45 s** | < 30 s | Update binaire sans rebuild complet |
| 💾 Taille image WIM | **28,4 Go** | < 25 Go | Windows allégé, mais modules de triche volumineux |
| 🚀 Temps de clonage snapshot | **7 s** | < 5 s | Snapshot ZFS/Proxmox rapide mais encore perfectible |
| ⚡ Temps de provisioning final | **12 s** | < 10 s | VM opérationnelle prête à la connexion |
| 🔁 Reproductibilité (hash SHA-256) | **100 % identique** | 100 % | Builds déterministes assurés (chaîne stable) |

---

## 🛡 **2. Fiabilité et Incidents**

| Indicateur | Résultat actuel | Objectif cible | Remarques techniques |
| --- | --- | --- | --- |
| ❌ Taux d’échec build | **2 %** | < 1 % | Échecs liés à Windows Update / timeout Ansible |
| 🔐 Erreurs d’activation Windows | **5 %** | < 2 % | Problèmes KMS sur templates clonés |
| 💥 Incidents BSOD (build) | 1 / 500 builds | 0 | Lié à conflit pilote GPU + driver cheat |
| 🧪 Intégrité driver vérifiée au boot | **Oui** | Oui | Signature/empreinte comparée sur chaque instance |

---

## 📈 **3. Ressources et I/O**

| Indicateur | Résultat actuel | Objectif cible | Remarques techniques |
| --- | --- | --- | --- |
| 🧠 Consommation RAM moyenne | **6,2 Go** | < 8 Go | Stable, no bottleneck |
| 🔄 Utilisation CPU moyenne | **65 %** | 60–80 % | Bon niveau de saturation (optimisé) |
| 💽 Throughput disque (write) | **150 Mo/s** | > 100 Mo/s | Correct sur SSD Proxmox |
| 🌐 Bande passante réseau (upload WIM) | **500 Mo/s** | > 300 Mo/s | Transmission rapide des images vers hôtes distants |

---

# 📊 **Benchmark Comparatif – Création d’Images de VMs (V1.0 vs V1.3)**

| **Indicateur** | **V1.0 (initial)** | **V1.3 (actuelle)** | **Progression** | **Objectif cible** |
| --- | --- | --- | --- | --- |
| ⏱ Temps de build complet | 45 min | **14 min 30 s** | 🔽 -68 % | < 12 min |
| ⚙️ Temps de patch (smart update) | N/A | **45 s** | ➕ Nouvelle fonction | < 30 s |
| 💾 Taille image WIM | 33,2 Go | **28,4 Go** | 🔽 -14,4 % | < 25 Go |
| 🚀 Temps de clonage snapshot | 25 s | **7 s** | 🔽 -72 % | < 5 s |
| ⚡ Temps de provisioning final | 22 s | **12 s** | 🔽 -45 % | < 10 s |
| 🔁 Reproductibilité (hash SHA-256) | Non déterministe | **100 % identique** | ✅ Déterminisme obtenu | 100 % |

---

## 🛡 **Fiabilité et Incidents**

| **Indicateur** | **V1.0 (initial)** | **V1.3 (actuelle)** | **Progression** | **Objectif cible** |
| --- | --- | --- | --- | --- |
| ❌ Taux d’échec build | 9 % | **2 %** | 🔽 -78 % | < 1 % |
| 🔐 Erreurs d’activation Windows | 18 % | **5 %** | 🔽 -72 % | < 2 % |
| 💥 Incidents BSOD (build) | 1 / 80 builds | **1 / 500 builds** | 🔽 x6 fiabilité | 0 |
| 🧪 Intégrité driver vérifiée au boot | Non | **Oui (checksum signé)** | ✅ Intégré en V1.3 | Oui |

---

## 📈 **Ressources et I/O**

| **Indicateur** | **V1.0 (initial)** | **V1.3 (actuelle)** | **Progression** | **Objectif cible** |
| --- | --- | --- | --- | --- |
| 🧠 Consommation RAM moyenne | 5,8 Go | **6,2 Go** | 🔼 +7 % | < 8 Go |
| 🔄 Utilisation CPU moyenne | 48 % | **65 %** | 🔼 +35 % | 60–80 % |
| 💽 Throughput disque (write) | 95 Mo/s | **150 Mo/s** | 🔼 +57 % | > 100 Mo/s |
| 🌐 Bande passante (upload WIM) | 280 Mo/s | **500 Mo/s** | 🔼 +78 % | > 300 Mo/s |

---

## 🧩 **Résumé de l’évolution R&D**

| **Catégorie** | **État en V1.0** | **Améliorations clés V1.3** |
| --- | --- | --- |
| Build process | Séquentiel, long, non reproductible | Parallélisé, automatisé, 100 % déterministe |
| Activation Windows | Défaillante, manuelle | Partiellement automatisée, intégration KMS en cours |
| Patchs cheat | Absents (rebuild complet) | Smart patchs binaires intégrés, taille moyenne : 120 Mo |
| Déploiement | 25–30 s par VM | 12 s en moyenne (provisioning + readiness script) |
| Supervision intégrité | Non existante | Checksum driver + version hashée à chaque boot |
| Logs d’état / retour | Inexistant | Déploiement en cours avec dashboard Prometheus / Grafana |
